<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Home - Spend Accounting</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/7.14.6/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/7.14.6/firebase-auth.js"></script>
    <script defer src="/__/firebase/7.14.6/firebase-firestore.js"></script>
    <script defer src="/__/firebase/7.14.6/firebase-messaging.js"></script>
    <script defer src="/__/firebase/7.14.6/firebase-functions.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">

<body>

    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">SPEND</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#Navbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="Navbar">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item-active"><a class="nav-link" id="home-btn">Home</a></li>
                    <li class="nav-item-active"><a class="nav-link btn" id="upload-statements-btn">Upload Statements</a></li>
                    <li class="nav-item-active"><a class="nav-link btn" id="map-btn">Map Transactions</a></li>
                    <li class="nav-item-active"><a class="nav-link btn" id="add-category">Add/Edit Categories</a></li>
                </ul>
            </div>
        </div>
    </nav>


    <div id="body-container" class="container">
        <div class="row">
            <div class="col-3">
                <div class="row pr-2">
                    <div class="table-borderless w-100">
                        <table id="cat-table" class="table table-striped text-center">
                            <thead class="thead-dark">
                            <tr>
                                <th>Categories</th>
                            </tr>
                            </thead>
                            <tbody id="category-list">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-9">
                <div class="row">
                    <div class="table-borderless" id="transaction-table">
                        <table id="t-table" class="table table-striped table-hover">
                            <thead class="thead-dark">
                            <tr>
                                <th>ID</th>
                                <th>Date</th>
                                <th>Debit</th>
                                <th>Credit</th>
                            </tr>
                            </thead>
                            <tbody id="transaction-table-body"></tbody>
                        </table>
                    </div>
                    <div class="table-borderless" id="mapping-table">
                        <table id="kw-table" class="table table-striped table-hover">
                            <thead class="thead-dark">
                            <tr>
                                <th>Keywords</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody id="mapping-table-body"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="statement-upload-modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Upload Statements</h4>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group row">
                            <input class="form-control" type="file" name="fileSelector" size="20" id="fileSelector" multiple>
                            <input class="form-control" type="button" value="IMPORT" id="uploadBtn">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="//cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script defer src="js/db-adapter.js"></script>
<script defer src="js/statement-uploader.js"></script>
<script defer src="js/home.js"></script>
<script type="text/javascript">
    (($) => {
        $("#mapping-table").hide();

        // Set container height
        let setContainerHeight = function() {
            let container = $("#body-container");
            container.css(
                "height", $(window).height() - container.position().top
            )
        };
        setContainerHeight();
        $(window).resize(() => {
            setContainerHeight();
        })
    })(jQuery);
</script>
</body>

</html>